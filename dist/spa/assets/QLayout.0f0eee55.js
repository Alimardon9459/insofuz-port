import{c as R,a as E,e as Be,f as ce,h as Le}from"./use-router-link.2c7f4719.js";import{c as o,h as m,i as ne,L as Q,r as S,w as f,G as fe,M as j,g as K,o as Qe,N as de,s as Oe,O as he,P as Pe,Q as He,R as N,a as We}from"./index.c5bdb514.js";import{Q as oe,T as ae,a as Me}from"./QScrollObserver.138f3948.js";import{u as Re,a as _e}from"./use-prevent-scroll.bda7cd2d.js";import{u as De,a as Ve,b as Fe,c as Ae}from"./use-timeout.e4900cd8.js";import{u as Ie,a as Ne}from"./use-dark.798459ce.js";import{b as U}from"./format.a33550d6.js";import{g as le}from"./selection.363d3796.js";var tt=R({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:x}){const v=o(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>m("div",{class:v.value},E(x.default))}});const Ue=m("div",{class:"q-space"});var at=R({name:"QSpace",setup(){return()=>Ue}}),lt=R({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:x}){const v=o(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>m("div",{class:v.value,role:"toolbar"},E(x.default))}}),ot=R({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:x,emit:v}){const{proxy:{$q:c}}=K(),i=ne(j,Q);if(i===Q)return console.error("QHeader needs to be child of QLayout"),Q;const s=S(parseInt(e.heightHint,10)),$=S(!0),C=o(()=>e.reveal===!0||i.view.value.indexOf("H")>-1||c.platform.is.ios&&i.isContainer.value===!0),p=o(()=>{if(e.modelValue!==!0)return 0;if(C.value===!0)return $.value===!0?s.value:0;const l=s.value-i.scroll.value.position;return l>0?l:0}),g=o(()=>e.modelValue!==!0||C.value===!0&&$.value!==!0),a=o(()=>e.modelValue===!0&&g.value===!0&&e.reveal===!0),H=o(()=>"q-header q-layout__section--marginal "+(C.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(g.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),z=o(()=>{const l=i.rows.value.top,w={};return l[0]==="l"&&i.left.space===!0&&(w[c.lang.rtl===!0?"right":"left"]=`${i.left.size}px`),l[2]==="r"&&i.right.space===!0&&(w[c.lang.rtl===!0?"left":"right"]=`${i.right.size}px`),w});function y(l,w){i.update("header",l,w)}function d(l,w){l.value!==w&&(l.value=w)}function B({height:l}){d(s,l),y("size",l)}function b(l){a.value===!0&&d($,!0),v("focusin",l)}f(()=>e.modelValue,l=>{y("space",l),d($,!0),i.animate()}),f(p,l=>{y("offset",l)}),f(()=>e.reveal,l=>{l===!1&&d($,e.modelValue)}),f($,l=>{i.animate(),v("reveal",l)}),f(i.scroll,l=>{e.reveal===!0&&d($,l.direction==="up"||l.position<=e.revealOffset||l.position-l.inflectionPoint<100)});const u={};return i.instances.header=u,e.modelValue===!0&&y("size",s.value),y("space",e.modelValue),y("offset",p.value),fe(()=>{i.instances.header===u&&(i.instances.header=void 0,y("size",0),y("offset",0),y("space",!1))}),()=>{const l=Be(x.default,[]);return e.elevated===!0&&l.push(m("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),l.push(m(oe,{debounce:0,onResize:B})),m("header",{class:H.value,style:z.value,onFocusin:b},l)}}});const ve=150;var nt=R({name:"QDrawer",inheritAttrs:!1,props:{...De,...Ie,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Ve,"onLayout","miniState"],setup(e,{slots:x,emit:v,attrs:c}){const i=K(),{proxy:{$q:s}}=i,$=Ne(e,s),{preventBodyScroll:C}=_e(),{registerTimeout:p,removeTimeout:g}=Fe(),a=ne(j,Q);if(a===Q)return console.error("QDrawer needs to be child of QLayout"),Q;let H,z=null,y;const d=S(e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint),B=o(()=>e.mini===!0&&d.value!==!0),b=o(()=>B.value===!0?e.miniWidth:e.width),u=S(e.showIfAbove===!0&&d.value===!1?!0:e.modelValue===!0),l=o(()=>e.persistent!==!0&&(d.value===!0||me.value===!0));function w(t,n){if(W(),t!==!1&&a.animate(),T(0),d.value===!0){const q=a.instances[A.value];q!==void 0&&q.belowBreakpoint===!0&&q.hide(!1),O(1),a.isContainer.value!==!0&&C(!0)}else O(0),t!==!1&&Z(!1);p(()=>{t!==!1&&Z(!0),n!==!0&&v("show",t)},ve)}function r(t,n){V(),t!==!1&&a.animate(),O(0),T(_.value*b.value),ee(),n!==!0?p(()=>{v("hide",t)},ve):g()}const{show:h,hide:k}=Ae({showing:u,hideOnRouteChange:l,handleShow:w,handleHide:r}),{addToHistory:W,removeFromHistory:V}=Re(u,k,l),M={belowBreakpoint:d,hide:k},L=o(()=>e.side==="right"),_=o(()=>(s.lang.rtl===!0?-1:1)*(L.value===!0?1:-1)),re=S(0),D=S(!1),G=S(!1),ie=S(b.value*_.value),A=o(()=>L.value===!0?"left":"right"),X=o(()=>u.value===!0&&d.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:b.value:0),J=o(()=>e.overlay===!0||e.miniToOverlay===!0||a.view.value.indexOf(L.value?"R":"L")>-1||s.platform.is.ios===!0&&a.isContainer.value===!0),F=o(()=>e.overlay===!1&&u.value===!0&&d.value===!1),me=o(()=>e.overlay===!0&&u.value===!0&&d.value===!1),ye=o(()=>"fullscreen q-drawer__backdrop"+(u.value===!1&&D.value===!1?" hidden":"")),be=o(()=>({backgroundColor:`rgba(0,0,0,${re.value*.4})`})),ue=o(()=>L.value===!0?a.rows.value.top[2]==="r":a.rows.value.top[0]==="l"),ge=o(()=>L.value===!0?a.rows.value.bottom[2]==="r":a.rows.value.bottom[0]==="l"),we=o(()=>{const t={};return a.header.space===!0&&ue.value===!1&&(J.value===!0?t.top=`${a.header.offset}px`:a.header.space===!0&&(t.top=`${a.header.size}px`)),a.footer.space===!0&&ge.value===!1&&(J.value===!0?t.bottom=`${a.footer.offset}px`:a.footer.space===!0&&(t.bottom=`${a.footer.size}px`)),t}),qe=o(()=>{const t={width:`${b.value}px`,transform:`translateX(${ie.value}px)`};return d.value===!0?t:Object.assign(t,we.value)}),Se=o(()=>"q-drawer__content fit "+(a.isContainer.value!==!0?"scroll":"overflow-auto")),xe=o(()=>`q-drawer q-drawer--${e.side}`+(G.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+($.value===!0?" q-drawer--dark q-dark":"")+(D.value===!0?" no-transition":u.value===!0?"":" q-layout--prevent-focus")+(d.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${B.value===!0?"mini":"standard"}`+(J.value===!0||F.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(ue.value===!0?" q-drawer--top-padding":""))),$e=o(()=>{const t=s.lang.rtl===!0?e.side:A.value;return[[ae,Ce,void 0,{[t]:!0,mouse:!0}]]}),ke=o(()=>{const t=s.lang.rtl===!0?A.value:e.side;return[[ae,se,void 0,{[t]:!0,mouse:!0}]]}),Te=o(()=>{const t=s.lang.rtl===!0?A.value:e.side;return[[ae,se,void 0,{[t]:!0,mouse:!0,mouseAllDir:!0}]]});function Y(){pe(d,e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint)}f(d,t=>{t===!0?(H=u.value,u.value===!0&&k(!1)):e.overlay===!1&&e.behavior!=="mobile"&&H!==!1&&(u.value===!0?(T(0),O(0),ee()):h(!1))}),f(()=>e.side,(t,n)=>{a.instances[n]===M&&(a.instances[n]=void 0,a[n].space=!1,a[n].offset=0),a.instances[t]=M,a[t].size=b.value,a[t].space=F.value,a[t].offset=X.value}),f(a.totalWidth,()=>{(a.isContainer.value===!0||document.qScrollPrevented!==!0)&&Y()}),f(()=>e.behavior+e.breakpoint,Y),f(a.isContainer,t=>{u.value===!0&&C(t!==!0),t===!0&&Y()}),f(a.scrollbarWidth,()=>{T(u.value===!0?0:void 0)}),f(X,t=>{P("offset",t)}),f(F,t=>{v("onLayout",t),P("space",t)}),f(L,()=>{T()}),f(b,t=>{T(),te(e.miniToOverlay,t)}),f(()=>e.miniToOverlay,t=>{te(t,b.value)}),f(()=>s.lang.rtl,()=>{T()}),f(()=>e.mini,()=>{e.modelValue===!0&&(ze(),a.animate())}),f(B,t=>{v("miniState",t)});function T(t){t===void 0?de(()=>{t=u.value===!0?0:b.value,T(_.value*t)}):(a.isContainer.value===!0&&L.value===!0&&(d.value===!0||Math.abs(t)===b.value)&&(t+=_.value*a.scrollbarWidth.value),ie.value=t)}function O(t){re.value=t}function Z(t){const n=t===!0?"remove":a.isContainer.value!==!0?"add":"";n!==""&&document.body.classList[n]("q-body--drawer-toggle")}function ze(){z!==null&&clearTimeout(z),i.proxy&&i.proxy.$el&&i.proxy.$el.classList.add("q-drawer--mini-animate"),G.value=!0,z=setTimeout(()=>{z=null,G.value=!1,i&&i.proxy&&i.proxy.$el&&i.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function Ce(t){if(u.value!==!1)return;const n=b.value,q=U(t.distance.x,0,n);if(t.isFinal===!0){q>=Math.min(75,n)===!0?h():(a.animate(),O(0),T(_.value*n)),D.value=!1;return}T((s.lang.rtl===!0?L.value!==!0:L.value)?Math.max(n-q,0):Math.min(0,q-n)),O(U(q/n,0,1)),t.isFirst===!0&&(D.value=!0)}function se(t){if(u.value!==!0)return;const n=b.value,q=t.direction===e.side,I=(s.lang.rtl===!0?q!==!0:q)?U(t.distance.x,0,n):0;if(t.isFinal===!0){Math.abs(I)<Math.min(75,n)===!0?(a.animate(),O(1),T(0)):k(),D.value=!1;return}T(_.value*I),O(U(1-I/n,0,1)),t.isFirst===!0&&(D.value=!0)}function ee(){C(!1),Z(!0)}function P(t,n){a.update(e.side,t,n)}function pe(t,n){t.value!==n&&(t.value=n)}function te(t,n){P("size",t===!0?e.miniWidth:n)}return a.instances[e.side]=M,te(e.miniToOverlay,b.value),P("space",F.value),P("offset",X.value),e.showIfAbove===!0&&e.modelValue!==!0&&u.value===!0&&e["onUpdate:modelValue"]!==void 0&&v("update:modelValue",!0),Qe(()=>{v("onLayout",F.value),v("miniState",B.value),H=e.showIfAbove===!0;const t=()=>{(u.value===!0?w:r)(!1,!0)};if(a.totalWidth.value!==0){de(t);return}y=f(a.totalWidth,()=>{y(),y=void 0,u.value===!1&&e.showIfAbove===!0&&d.value===!1?h(!1):t()})}),fe(()=>{y!==void 0&&y(),z!==null&&(clearTimeout(z),z=null),u.value===!0&&ee(),a.instances[e.side]===M&&(a.instances[e.side]=void 0,P("size",0),P("offset",0),P("space",!1))}),()=>{const t=[];d.value===!0&&(e.noSwipeOpen===!1&&t.push(Oe(m("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),$e.value)),t.push(ce("div",{ref:"backdrop",class:ye.value,style:be.value,"aria-hidden":"true",onClick:k},void 0,"backdrop",e.noSwipeBackdrop!==!0&&u.value===!0,()=>Te.value)));const n=B.value===!0&&x.mini!==void 0,q=[m("div",{...c,key:""+n,class:[Se.value,c.class]},n===!0?x.mini():E(x.default))];return e.elevated===!0&&u.value===!0&&q.push(m("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),t.push(ce("aside",{ref:"content",class:xe.value,style:qe.value},q,"contentclose",e.noSwipeClose!==!0&&d.value===!0,()=>ke.value)),m("div",{class:"q-drawer-container"},t)}}}),rt=R({name:"QPageContainer",setup(e,{slots:x}){const{proxy:{$q:v}}=K(),c=ne(j,Q);if(c===Q)return console.error("QPageContainer needs to be child of QLayout"),Q;he(Pe,!0);const i=o(()=>{const s={};return c.header.space===!0&&(s.paddingTop=`${c.header.size}px`),c.right.space===!0&&(s[`padding${v.lang.rtl===!0?"Left":"Right"}`]=`${c.right.size}px`),c.footer.space===!0&&(s.paddingBottom=`${c.footer.size}px`),c.left.space===!0&&(s[`padding${v.lang.rtl===!0?"Right":"Left"}`]=`${c.left.size}px`),s});return()=>m("div",{class:"q-page-container",style:i.value},E(x.default))}}),it=R({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:x,emit:v}){const{proxy:{$q:c}}=K(),i=S(null),s=S(c.screen.height),$=S(e.container===!0?0:c.screen.width),C=S({position:0,direction:"down",inflectionPoint:0}),p=S(0),g=S(He.value===!0?0:le()),a=o(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),H=o(()=>e.container===!1?{minHeight:c.screen.height+"px"}:null),z=o(()=>g.value!==0?{[c.lang.rtl===!0?"left":"right"]:`${g.value}px`}:null),y=o(()=>g.value!==0?{[c.lang.rtl===!0?"right":"left"]:0,[c.lang.rtl===!0?"left":"right"]:`-${g.value}px`,width:`calc(100% + ${g.value}px)`}:null);function d(r){if(e.container===!0||document.qScrollPrevented!==!0){const h={position:r.position.top,direction:r.direction,directionChanged:r.directionChanged,inflectionPoint:r.inflectionPoint.top,delta:r.delta.top};C.value=h,e.onScroll!==void 0&&v("scroll",h)}}function B(r){const{height:h,width:k}=r;let W=!1;s.value!==h&&(W=!0,s.value=h,e.onScrollHeight!==void 0&&v("scrollHeight",h),u()),$.value!==k&&(W=!0,$.value=k),W===!0&&e.onResize!==void 0&&v("resize",r)}function b({height:r}){p.value!==r&&(p.value=r,u())}function u(){if(e.container===!0){const r=s.value>p.value?le():0;g.value!==r&&(g.value=r)}}let l=null;const w={instances:{},view:o(()=>e.view),isContainer:o(()=>e.container),rootRef:i,height:s,containerHeight:p,scrollbarWidth:g,totalWidth:o(()=>$.value+g.value),rows:o(()=>{const r=e.view.toLowerCase().split(" ");return{top:r[0].split(""),middle:r[1].split(""),bottom:r[2].split("")}}),header:N({size:0,offset:0,space:!1}),right:N({size:300,offset:0,space:!1}),footer:N({size:0,offset:0,space:!1}),left:N({size:300,offset:0,space:!1}),scroll:C,animate(){l!==null?clearTimeout(l):document.body.classList.add("q-body--layout-animate"),l=setTimeout(()=>{l=null,document.body.classList.remove("q-body--layout-animate")},155)},update(r,h,k){w[r][h]=k}};if(he(j,w),le()>0){let k=function(){r=null,h.classList.remove("hide-scrollbar")},W=function(){if(r===null){if(h.scrollHeight>c.screen.height)return;h.classList.add("hide-scrollbar")}else clearTimeout(r);r=setTimeout(k,300)},V=function(M){r!==null&&M==="remove"&&(clearTimeout(r),k()),window[`${M}EventListener`]("resize",W)},r=null;const h=document.body;f(()=>e.container!==!0?"add":"remove",V),e.container!==!0&&V("add"),We(()=>{V("remove")})}return()=>{const r=Le(x.default,[m(Me,{onScroll:d}),m(oe,{onResize:B})]),h=m("div",{class:a.value,style:H.value,ref:e.container===!0?void 0:i,tabindex:-1},r);return e.container===!0?m("div",{class:"q-layout-container overflow-hidden",ref:i},[m(oe,{onResize:b}),m("div",{class:"absolute-full",style:z.value},[m("div",{class:"scroll",style:y.value},[h])])]):h}}});export{it as Q,lt as a,tt as b,at as c,ot as d,nt as e,rt as f};
